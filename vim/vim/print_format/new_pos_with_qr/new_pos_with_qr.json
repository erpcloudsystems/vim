{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2021-11-16 10:01:51.579572",
 "css": "",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "POS Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<style>\r\n\t.print-format table, .print-format tr, \r\n\t.print-format td, .print-format div, .print-format p {\r\n\t\tfont-family: Monospace;\r\n\t\t\r\n\t\tvertical-align: middle;\r\n\t}\r\n\t@media screen {\r\n\t\t.print-format {\r\n\t\t\twidth: 4in !important;\r\n\t\t\tpadding: 0.25in !important;\r\n\t\t\tmin-height: 8in;\r\n\t\t}\r\n\t}\r\n\tdiv.qrcode{\r\n            text-align: center;\r\n        }\r\n        .qrcode img{\r\n            height: 100px;\r\n        }\r\n</style>\r\n\r\n<div class=\"text-center\">{% if frappe.db.get_value('Letter Head', doc.letter_head,\r\n                                                'content')\r\n                                                != None %} {{ frappe.db.get_value('Letter Head', doc.letter_head,\r\n                                                'content') }}\r\n                                                {%-endif-%}<hr></hr></div>\r\n\r\n<p class=\"text-center\" style=\"font-weight:bold;font-size:larger\">\r\n\t{{ doc.company }}<br>\r\n    {%set company_address =''%}\r\n    {% if frappe.db.get_value('POS Profile', doc.pos_profile,\r\n                                                            'company_address')\r\n                                                            != None %} {%set company_address=frappe.db.get_value('POS Profile', doc.pos_profile, 'company_address') %}\r\n                                                            {% endif %}\r\n                                                \r\n                                                 {% if frappe.db.get_value('Address', company_address,\r\n                                                    'address_line1')\r\n                                                    != None %} {{ frappe.db.get_value('Address', company_address, 'address_line1') }}\r\n                                                     {%-endif-%} ,\r\n                                                     {% if frappe.db.get_value('Address', company_address,\r\n                                                    'address_line2')\r\n                                                    != None %} {{ frappe.db.get_value('Address', company_address, 'address_line2') }}\r\n                                                     {%-endif-%} ,\r\n                                                     {% if frappe.db.get_value('Address', company_address,\r\n                                                    'city')\r\n                                                    != None %} {{ frappe.db.get_value('Address', company_address, 'city') }}\r\n                                                     {%-endif-%} <br>\r\n                                                    Phone: {% if frappe.db.get_value('Address', company_address,\r\n                                                    'phone')\r\n                                                    != None %} {{ frappe.db.get_value('Address', company_address, 'phone') }}\r\n                                                     {%-endif-%}<br>\r\n                                                     Seller VAT No ({% if frappe.db.get_value('Company', doc.company,\r\n                                                'tax_id')\r\n                                                != None %} {{ frappe.db.get_value('Company', doc.company, 'tax_id') }}\r\n                                                {%-endif-%})  \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a <br></p>\r\n\t<p class=\"text-center\" style=\"font-weight:bold;font-size:xx-large;background-color: rgb(233, 232, 232);\"> {% if doc.docstatus == 0 %}\r\n\t\t{{(doc.select_print_heading or _(\"\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 <br>Tax Invoice\")) }}\r\n\t{% else %}\r\n\t\t{{ doc.select_print_heading or _(\"Invoice\") }}<br>\r\n\t{% endif %}</p>\r\n\r\n<p class=\"text-center\">\r\n\t<b>{{ _(\"Receipt No\") }}:</b> {{ doc.name }} :<b>\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</b><br>\r\n\t<b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }} :<b>\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</b> <br>\r\n<b>{{ _(\"Time\") }}:</b> {{ doc.get_formatted(\"posting_time\") }} :<b>\u0648\u0642\u062a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</b> <br>\r\n\t<b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }} :<b>\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644</b><br>\r\n\t<b>{{ _(\"Cashier\") }}:</b> {{frappe.db.get_value('User', doc.owner ,'full_name')}} <br>\r\n\t\t<b>{{ _(\"POS Profile\") }}:</b> {{ doc.pos_profile}} \r\n</p>\r\n\r\n<hr>\r\n<table class=\"table table-condensed cart no-border\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th width=\"50%\">{{ _(\"Item <br> \u0627\u0644\u0635\u0646\u0641\") }}</b></th>\r\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Qty <br> \u0627\u0644\u0643\u0645\u064a\u0629\") }}</th>\r\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Amount <br> \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a\") }}</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t{%- for item in doc.items -%}\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t\t{{ item.item_code }}\r\n\t\t\t\t{%- if item.item_name != item.item_code -%}\r\n\t\t\t\t\t<br>{{ item.item_name }}{%- endif -%}\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">{{ item.qty }}<br>@ {{ item.get_formatted(\"rate\") }}</td>\r\n\t\t\t<td class=\"text-right\">{{ item.get_formatted(\"amount\") }}</td>\r\n\t\t</tr>\r\n\t\t{%- endfor -%}\r\n\t</tbody>\r\n</table>\r\n<table class=\"table table-condensed no-border\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\r\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\r\n\t\t\t\t\t{{ _(\"Total Excl. Tax \") }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\r\n\t\t\t\t</td>\r\n\t\t\t{% else %}\r\n\t\t\t{%- if doc.discount_amount -%}\r\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\r\n\t\t\t\t\t{{ _(\"Gross Total \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \") }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ doc.get_formatted(\"total\", doc) }}\r\n\t\t\t\t</td>\r\n\t\t\t\t{% endif %}\r\n\t\t\t{% endif %}\r\n\t\t</tr>\r\n\t\t{%- for row in doc.taxes -%}\r\n\t\t  {%- if not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print -%}\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\r\n\t\t\t\t\t{{ row.description }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\r\n\t\t\t\t</td>\r\n\t\t\t<tr>\r\n\t\t  {%- endif -%}\r\n\t\t{%- endfor -%}\r\n\r\n\t\t{%- if doc.discount_amount -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t{{ _(\"Discount Amount\") }}\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- endif -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"Grand Total \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"grand_total\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- if doc.rounded_total -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\" Rounded Total \u0627\u0644\u0635\u0627\u0641\u064a \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"rounded_total\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- endif -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"Paid Amount \u0627\u0644\u0645\u062f\u0641\u0648\u0639 \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t<table>\r\n                    {%- for row in doc.payments -%}\r\n                    {%- if row.base_amount>0 -%}\r\n                 \r\n                <tr>\r\n                    <td class=\"text-right\" style=\"width: 70%\">\r\n                        {{ row.mode_of_payment }}\r\n                    </td>\r\n                    \r\n                    <td class=\"text-right\">\r\n                       <!-- {{ row.get_formatted(\"base_amount\", doc) }}-->\r\n                       {{ row.base_amount }}\r\n                    </td>\r\n                <tr>\r\n                    {%- endif -%}\r\n             \r\n            {%- endfor -%}\r\n                </table>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- if doc.change_amount -%}\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t\t<b>{{ _(\"Change Amount\") }}</b>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ doc.get_formatted(\"change_amount\") }}\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t{%- endif -%}\r\n\t\t{%- if doc.pos_total_qty -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"Total Qty\") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"pos_total_qty\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- endif -%}\r\n        <tr>\r\n            <td>\r\n                <b>{{ _(\"VAT 15% (\")}}</b>{{ doc.get_formatted(\"total_taxes_and_charges\") }}<b>{{ _(\" Inclusive)\")}}</b>\r\n            </td>\r\n        </tr>\r\n\t</tbody>\r\n</table>\r\n<!-- \r\n<table class=\"table table-condensed no-border\">\r\n\t<tbody>\r\n        {% set total__total_amount=[0]%}\r\n        \r\n        {%- for row in doc.taxes -%}\r\n        {% set __=total__total_amount.append(total__total_amount.pop() + row.tax_amount)%}\r\n        \r\n        \r\n        {%- endfor -%}\r\n        \r\n\t\t<tr> \r\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\r\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\r\n\t\t\t\t\t{{ _(\"Total Excl. Tax \") }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\r\n\t\t\t\t</td>\r\n\t\t\t{% else %}\r\n            <td class=\"text-right\" style=\"width: 70%\">\r\n\t\t\t\t\t{{ _(\"Gross Total\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \") }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ doc.get_formatted(\"total\", doc) }}\r\n\t\t\t\t</td> \r\n\t\t\t{% endif %}\r\n\t\t</tr>\r\n        <tr>\r\n            <td class=\"text-right\" style=\"width: 70%\">\r\n                {{ _(\"Total Before VAT \") }}\r\n            </td>\r\n            <td class=\"text-right\">\r\n               \r\n               {% if doc.total > 0 %}\r\n                    {% set __=total__total_amount.append(-total__total_amount.pop() +( doc.total))%}\r\n                    {%-endif-%}\r\n                    {{ frappe.utils.fmt_money(total__total_amount[0], currency=doc.currency) }}\r\n               \r\n                 \r\n            </td>\r\n        </tr>\r\n        {%- for row in doc.taxes -%}\r\n\t\t \r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\r\n\t\t\t\t\t{{ row.description }}\r\n\t\t\t\t</td>\r\n                \r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\r\n\t\t\t\t</td>\r\n\t\t\t<tr>\r\n\t\t \r\n\t\t{%- endfor -%}\r\n         <tr>\r\n            <td class=\"text-right\" style=\"width: 70%\">\r\n                {{ _(\"Net Total \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \") }}\r\n            </td>\r\n            <td class=\"text-right\">\r\n                {{ doc.get_formatted(\"net_total\", doc) }}\r\n            </td>\r\n        </tr>\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"Total Tax \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"total_taxes_and_charges\") }}\r\n\t\t\t</td>\r\n\t\t</tr> \r\n    <tr>\r\n        \t{%- if doc.discount_amount -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t{{ _(\"Discount\") }}\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t    {% set total_discount=[0] %}\r\n\t\t\t     {% set  __=total_discount.append(total_discount.pop() + (total__total_amount[0] * doc.additional_discount_percentage)/100) %}\r\n\t\t\t\t{{ frappe.utils.fmt_money(total_discount[0], currency=doc.currency) }}\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t    {{doc.discount_amount}}\r\n\t\t\t</td>\r\n\t\t\t\r\n\t\t</tr>\r\n\t\t{%- endif -%}\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"15% VAT \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"total_taxes_and_charges\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"Grand Total \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"grand_total\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- if doc.rounded_total -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\" Rounded Total \u0627\u0644\u0635\u0627\u0641\u064a \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"rounded_total\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- endif -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"Paid Amount \u0627\u0644\u0645\u062f\u0641\u0648\u0639 \") }}</b>\r\n\t\t\t</td>\r\n\t\t\t <td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"paid_amount\") }}\r\n\t\t\t</td> \r\n            <td><table>\r\n                {%- for row in doc.payments -%}\r\n             \r\n            <tr>\r\n                <td class=\"text-right\" style=\"width: 70%\">\r\n                    {{ row.mode_of_payment }}\r\n                </td>\r\n                \r\n                <td class=\"text-right\">\r\n                    {{ row.get_formatted(\"base_amount\", doc) }}\r\n                </td>\r\n            <tr>\r\n         \r\n        {%- endfor -%}\r\n            </table></td>\r\n\t\t</tr>\r\n\t\t{%- if doc.change_amount -%}\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t\t<b>{{ _(\"Change Amount\") }}</b>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t{{ doc.get_formatted(\"change_amount\") }}\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t{%- endif -%}\r\n\t\t{%- if doc.pos_total_qty -%}\r\n\t\t<tr>\r\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\r\n\t\t\t\t<b>{{ _(\"Total Qty\") }}</b>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"text-right\">\r\n\t\t\t\t{{ doc.get_formatted(\"pos_total_qty\") }}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t{%- endif -%}\r\n\t</tbody>\r\n</table> -->\r\n<hr>\r\n<p>{{ doc.terms or \"\" }}</p>\r\n\r\n\r\n {% set total_taxes_and_charges=doc.total_taxes_and_charges | string() %}\r\n{% set grand_total=doc.grand_total | string() %}\r\n{% set posting_date=doc.get_formatted(\"posting_date\") | string()%}\r\n{% set posting_time=doc.get_formatted(\"posting_time\") | string()%}\r\n{%set tax_id =''%}\r\n{% if frappe.db.get_value('Company', doc.company,\r\n                                                        'tax_id')\r\n                                                        != None %} {%set tax_id=frappe.db.get_value('Company', doc.company, 'tax_id') %}\r\n                                                        {% endif %}\r\n                                                       \r\n                                                 \r\n                                                        \r\n{% set date_time=posting_date+' '+posting_time %}                                                        \r\n{%set qr_code=[['1', doc.company],    \r\n\t\t['2', tax_id],    \r\n\t\t['3', date_time],\r\n\t\t['4', grand_total],\r\n\t\t['5', total_taxes_and_charges]]%}                                                        \r\n                                                                                                \r\n\r\n\r\n<div class=\"qrcode\" >\r\n\r\n         {{ get_qr(qr_code)}}  \r\n    </div><p class=\"text-center\">{{ _(\"Thank you, please visit again.\") }}</p>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2021-12-07 15:57:05.728120",
 "modified_by": "posuser@gmail.com",
 "module": "VIM",
 "name": "new POS with QR",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}